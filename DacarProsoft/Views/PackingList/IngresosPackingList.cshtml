
@{
    ViewBag.Title = "IngresosPackingList";
    Layout = "~/Views/Compartida/_Layout.cshtml";
}
@{
    var pais = ViewBag.Paises;
    var paisOrigen = ViewBag.PaisOrigen;
}
<link href="~/Content/font-awesome/css/font-awesome.min.css" rel="stylesheet" />
<br />
@*@{
    if (Model != null)
    {
        <h3>QR Code Successfully Generated</h3>
        <img src="@String.Format("data:image/png;base64,{0}", Convert.ToBase64String(Model))" />
    }
}*@

<div class="card shadow">
    <div class="card-header">
        <h4>Ordenes de Ventas</h4>
        <br />
        <div class="form-group">
            <div class="row">
                <div class="col-md-2">
                    <h6>Busqueda:</h6>
                    <select class="form-control" aria-label="Default select example" id="TipoBusqueda">
                        <option value="1">Exportacion</option>
                        <option value="2">Local</option>
                        <option value="3">Facturas Reserva</option>
                        <option value="4">Facturas </option>
                    </select>
                </div>

                <div class="col-md-2">
                    <button class="btn btn-primary" onclick="ConsultarIngresosPacking()">
                        <i class="loading-icon fa fa-spinner fa-spin hide"></i>
                        <span class="btn-txt">Consultar</span>
                    </button>
                </div>

            </div>
        </div>
     
    </div>
    <div class="card-body">
        <div id="MensajePackingCompletos" class="alert alert-danger collapse">
            <button id="LinkClose10" type="button" class="close">&times;</button>
            <strong>Pallets completos, no puede ingresar más!</strong>
        </div>
        <div id="MensajeGuardado" class="alert alert-primary collapse">
            <button id="LinkClose" type="button" class="close">&times;</button>
            <strong>Guardado Exitosamente!!</strong>
        </div>
        <div id="MensajeErrorGuardado" class="alert alert-danger collapse">
            <button id="LinkClose2" type="button" class="close">&times;</button>
            <strong>Error de Guardad0!!</strong>
        </div>
        <div id="MensajeErrorGeneral" class="alert alert-danger collapse">
            <button id="LinkClose3" type="button" class="close">&times;</button>
            <strong>Error General!!</strong>
        </div>
        <div id="tblOrdenesVentas"> </div>
    </div>
</div>


<div class="modal" tabindex="-1" role="dialog" id="ModalDetalleOrdenVenta">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Detalle de Orden de fabricacion</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">

                <form>
                    <div id="MensajePackingCompletos" class="alert alert-danger collapse">
                        <button id="LinkClose10" type="button" class="close">&times;</button>
                        <strong>Pallets completos, no puede ingresar más!</strong>
                    </div>
                    <div id="MensajeGuardado" class="alert alert-primary collapse">
                        <button id="LinkClose" type="button" class="close">&times;</button>
                        <strong>Guardado Exitosamente!!</strong>
                    </div>
                    <div id="MensajeErrorGuardado" class="alert alert-danger collapse">
                        <button id="LinkClose2" type="button" class="close">&times;</button>
                        <strong>Error de Guardad0!!</strong>
                    </div>
                    <div id="MensajeErrorGeneral" class="alert alert-danger collapse">
                        <button id="LinkClose3" type="button" class="close">&times;</button>
                        <strong>Error General!!</strong>
                    </div>
                          <div id="tblDetalleOrdenesVentas"> </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
            </div>
        </div>
    </div>
</div>

<div id="ModalIngresoPalletAct" class="modal fade" role="dialog" style="overflow-y: scroll;">

    @*<div class="modal" tabindex="-1" role="dialog" id="ModalIngresoPalletAct">*@
        <div class="modal-dialog modal-xl" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Ingreso Packing List</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="form-group row">
                            <label for="email" class="col-sm-2 col-form-label"><b># Documento:</b></label>
                            <div class="col-sm-2">
                                <input type="text" name="Orden" id="txtDocAct" autocomplete="off" readonly class="form-control">
                            </div>
                            <div class="col-sm-2">
                            </div>
                            <label for="email" class="col-sm-2 col-form-label"><b>Orden:</b></label>
                            <div class="col-sm-2">
                                <input type="text" name="PalletNumber" id="txtOrdenAct" autocomplete="off" class="form-control">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="email" class="col-sm-2 col-form-label"><b>Origen:</b></label>
                            <div class="col-sm-4">
                                <input type="text" name="NetWeight" value="ECU-Guayaquil" id="txtOrigenAct" autocomplete="off" readonly class="form-control">
                            </div>
                            <label for="psw" class="col-sm-2 col-form-label"><b>Destino:</b></label>
                            <div class="col-sm-3">
                                @Html.DropDownList("Pais", new SelectList(pais, "PaisId", "DescripcionPais"), new { @class = "form-control", id = "txtDestinoAct" })
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="psw" class="col-sm-2 col-form-label"><b>Cliente:</b></label>
                            <div class="col-sm-4">
                                <input type="text" name="Cliente" id="txtClienteAct" autocomplete="off" readonly class="form-control">
                            </div>
                            <label for="email" class="col-sm-2 col-form-label"><b>Cantidad Pallet</b></label>
                            <div class="col-sm-1">
                                <input type="number" name="CantPallet" id="txtCantidadPallet" autocomplete="off" class="form-control">
                            </div>
                        </div>
                        <br />

                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                    <button type="button" class="btn btn-secondary" id="RegistrarPaking">Registrar</button>
                </div>
            </div>
        </div>
    </div>


    <div id="ModalIngresoPallet" class="modal fade" role="dialog" style="overflow-y: scroll;">
        <div class="modal-dialog modal-xl" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="lblNumberPallet">Pallet Number</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="form-group row">
                            <label for="email" class="col-sm-2 col-form-label"><b>Largo(cm):</b></label>
                            <div class="col-sm-2">
                                <input type="number" name="Orden" id="txtLargoPallet" autocomplete="off" value="0" onchange="Volumen();" class="form-control">
                            </div>
                            <div class="col-sm-2">
                            </div>
                            <label for="email" class="col-sm-2 col-form-label"><b>Ancho(cm):</b></label>
                            <div class="col-sm-2">
                                <input type="number" name="Orden" id="txtAnchoPallet" autocomplete="off" value="0" onchange="Volumen();" class="form-control">
                            </div>
                           
                        </div>
                        <div class="form-group row">
                            <label for="email" class="col-sm-2 col-form-label"><b>Alto(cm):</b></label>
                            <div class="col-sm-2">
                                <input type="number" name="PalletNumber" id="txtAltoPallet" autocomplete="off" value="0" onchange="Volumen();" class="form-control">
                            </div>
                            <div class="col-sm-2">
                            </div>
                            <label for="email" class="col-sm-2 col-form-label"><b>Volumen(m³):</b></label>
                            <div class="col-sm-2">
                                <input type="number" name="PalletNumber" id="txtVolumenPallet" value="0"  onchange="Volumen();" autocomplete="off" readonly class="form-control">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="email" class="col-sm-2 col-form-label"><b>Peso Neto(kg):</b></label>
                            <div class="col-sm-2">
                                <input type="number" name="Orden" id="txtPesoNeto" autocomplete="off" class="form-control">
                            </div>
                            <div class="col-sm-2">
                            </div>
                            <label for="email" class="col-sm-2 col-form-label"><b>Peso Bruto(kg):</b></label>
                            <div class="col-sm-2">
                                <input type="number" name="PalletNumber" id="txtPesoBruto" autocomplete="off" class="form-control">
                            </div>
                        </div>
                        <div id="MensajePackingCompletos" class="alert alert-danger collapse">
                            <button id="LinkClose10" type="button" class="close">&times;</button>
                            <strong>Pallets completos, no puede ingresar más!</strong>
                        </div>
                        <div id="MensajeGuardado" class="alert alert-primary collapse">
                            <button id="LinkClose" type="button" class="close">&times;</button>
                            <strong>Guardado Exitosamente!!</strong>
                        </div>
                        <div id="MensajeErrorGuardado" class="alert alert-danger collapse">
                            <button id="LinkClose2" type="button" class="close">&times;</button>
                            <strong>Error de Guardad0!!</strong>
                        </div>
                        <div id="MensajeErrorGeneral" class="alert alert-danger collapse">
                            <button id="LinkClose3" type="button" class="close">&times;</button>
                            <strong>Error General!!</strong>
                        </div>
                          <div id="tblDetallePallet"> </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                    @*<button type="button" class="btn btn-secondary" onclick="GenerarQr()">Vizualizar</button>*@
                    <button type="button" class="btn btn-secondary" id="BtnregistrarPallet" onclick="registrarPallet()">Registrar</button>
                </div>
            </div>
        </div>
    </div>



<input type="hidden" id="txtNumeroPalle" />




